<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Physics Motion Simulator</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        label {
            font-weight: bold;
            font-size: 14px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        input[type="number"], input[type="range"] {
            padding: 10px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            font-size: 14px;
        }

        input[type="range"] {
            padding: 5px;
            -webkit-appearance: none;
            height: 8px;
            background: linear-gradient(to right, #4CAF50, #45a049);
            outline: none;
            border-radius: 5px;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: white;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }

        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
        }

        button {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .play-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
        }

        .pause-btn {
            background: linear-gradient(45deg, #FF9800, #F57C00);
            color: white;
        }

        .reset-btn {
            background: linear-gradient(45deg, #f44336, #d32f2f);
            color: white;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .simulation-area {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            color: #333;
        }

        .road-container {
            position: relative;
            height: 150px;
            background: linear-gradient(to bottom, #87CEEB 0%, #87CEEB 40%, #228B22 40%, #228B22 60%, #444 60%, #444 65%, #FFF 65%, #FFF 70%, #444 70%, #444 100%);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .road {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 40%;
            background: #444;
            background-image: repeating-linear-gradient(
                90deg,
                transparent,
                transparent 30px,
                white 30px,
                white 40px
            );
        }

        .car {
            position: absolute;
            bottom: 5%;
            left: 50px;
            width: 120px;
            height: 75px;
            transition: left 0.1s linear;
            z-index: 10;
            filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
        }

        .graphs-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .graph-container {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .graph {
            width: 100%;
            height: 200px;
            border: 2px solid #333;
            background: #f9f9f9;
            position: relative;
            overflow: hidden;
        }

        .dot-diagram {
            height: 100px;
            background: white;
            border: 2px solid #333;
            border-radius: 10px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .dot {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ff4444;
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
        }

        .graph-title {
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .status {
            text-align: center;
            font-size: 18px;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .legend-color {
            width: 20px;
            height: 3px;
            border-radius: 2px;
        }

        canvas {
            display: block;
        }

        @media (max-width: 768px) {
            .graphs-container {
                grid-template-columns: 1fr;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöó Car Physics Motion Simulator</h1>
        
        <div class="controls">
            <div class="control-group">
                <label for="initialVelocity">Initial Velocity (m/s)</label>
                <input type="number" id="initialVelocity" value="10" min="0" max="50" step="1">
                <input type="range" id="initialVelocityRange" value="10" min="0" max="50" step="1">
            </div>
            
            <div class="control-group">
                <label for="acceleration">Acceleration (m/s¬≤)</label>
                <input type="number" id="acceleration" value="2" min="-10" max="10" step="0.5">
                <input type="range" id="accelerationRange" value="2" min="-10" max="10" step="0.5">
            </div>
            
            <div class="control-group">
                <label for="runTime">Run Time (s)</label>
                <input type="number" id="runTime" value="10" min="1" max="20" step="1">
                <input type="range" id="runTimeRange" value="10" min="1" max="20" step="1">
            </div>
        </div>

        <div class="buttons">
            <button class="play-btn" onclick="startSimulation()">‚ñ∂ Play</button>
            <button class="pause-btn" onclick="pauseSimulation()">‚è∏ Pause</button>
            <button class="reset-btn" onclick="resetSimulation()">üîÑ Reset</button>
        </div>

        <div class="simulation-area">
            <div class="status" id="status">Ready to simulate</div>
            
            <div class="road-container">
                <div class="road"></div>
                <svg class="car" viewBox="0 0 140 90">
                    <!-- Car body -->
                    <ellipse cx="70" cy="75" rx="65" ry="15" fill="#444"/>
                    <rect x="10" y="30" width="120" height="40" rx="18" fill="#ff4444"/>
                    <rect x="15" y="35" width="110" height="30" rx="12" fill="#ff6666"/>
                    
                    <!-- Windows -->
                    <rect x="25" y="40" width="35" height="20" rx="6" fill="#87CEEB"/>
                    <rect x="80" y="40" width="35" height="20" rx="6" fill="#87CEEB"/>
                    
                    <!-- Wheels -->
                    <circle cx="30" cy="75" r="15" fill="#333"/>
                    <circle cx="110" cy="75" r="15" fill="#333"/>
                    <circle cx="30" cy="75" r="10" fill="#666"/>
                    <circle cx="110" cy="75" r="10" fill="#666"/>
                    
                    <!-- Headlights -->
                    <circle cx="130" cy="50" r="5" fill="#ffff99"/>
                    <circle cx="130" cy="58" r="5" fill="#ffff99"/>
                    
                    <!-- Your actual face as driver -->
                    <defs>
                        <clipPath id="windowClip">
                            <rect x="25" y="40" width="35" height="20" rx="6"/>
                        </clipPath>
                    </defs>
                    
                    <!-- Face positioned in driver window -->
                    <g clip-path="url(#windowClip)">
    <image 
        href="https://drive.google.com/uc?export=download&id=1iTVgX36ZOiU-ryHgHAR9_xoiaFNislDR" 
        x="0" y="0" width="100" height="100"
    />
</g>
                    
                    <!-- Waving hand outside car -->
                    <g>
                        <!-- Arm -->
                        <path d="M60 52 Q68 48 75 45" stroke="#fdbcb4" stroke-width="4" fill="none"/>
                        <!-- Hand -->
                        <ellipse cx="75" cy="45" rx="3" ry="4" fill="#fdbcb4"/>
                        <!-- Fingers spread out (waving) -->
                        <ellipse cx="74" cy="41" rx="0.8" ry="3" fill="#fdbcb4"/>
                        <ellipse cx="75.5" cy="40" rx="0.8" ry="3.5" fill="#fdbcb4"/>
                        <ellipse cx="77" cy="40.5" rx="0.8" ry="3.2" fill="#fdbcb4"/>
                        <ellipse cx="78.5" cy="42" rx="0.8" ry="2.5" fill="#fdbcb4"/>
                        <ellipse cx="76.5" cy="48" rx="3" ry="0.8" fill="#fdbcb4"/>
                    </g>
                </svg>
            </div>

            <div class="dot-diagram" id="dotDiagram">
                <div class="graph-title">Motion Dot Diagram</div>
            </div>

            <div class="graphs-container">
                <div class="graph-container">
                    <div class="graph-title">Position vs Time</div>
                    <canvas class="graph" id="positionGraph" width="400" height="200"></canvas>
                </div>
                
                <div class="graph-container">
                    <div class="graph-title">Velocity vs Time</div>
                    <canvas class="graph" id="velocityGraph" width="400" height="200"></canvas>
                </div>
                
                <div class="graph-container">
                    <div class="graph-title">Acceleration vs Time</div>
                    <canvas class="graph" id="accelerationGraph" width="400" height="200"></canvas>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #2196F3;"></div>
                    <span>Position Graph Slope / Velocity Area</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #4CAF50;"></div>
                    <span>Velocity Graph Slope / Acceleration Area</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #FF9800;"></div>
                    <span>Acceleration Graph Slope</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        let animationId;
        let isRunning = false;
        let isPaused = false;
        let startTime;
        let pausedTime = 0;
        let currentTime = 0;
        
        let initialVelocity = 10;
        let acceleration = 2;
        let runTime = 10;
        
        let positionData = [];
        let velocityData = [];
        let accelerationData = [];
        let timeData = [];

        // Sync inputs
        function syncInputs() {
            const inputs = [
                ['initialVelocity', 'initialVelocityRange'],
                ['acceleration', 'accelerationRange'],
                ['runTime', 'runTimeRange']
            ];

            inputs.forEach(([numId, rangeId]) => {
                document.getElementById(numId).addEventListener('input', (e) => {
                    document.getElementById(rangeId).value = e.target.value;
                    updateValues();
                });
                
                document.getElementById(rangeId).addEventListener('input', (e) => {
                    document.getElementById(numId).value = e.target.value;
                    updateValues();
                });
            });
        }

        function updateValues() {
            initialVelocity = parseFloat(document.getElementById('initialVelocity').value);
            acceleration = parseFloat(document.getElementById('acceleration').value);
            runTime = parseFloat(document.getElementById('runTime').value);
        }

        function startSimulation() {
            if (isPaused) {
                isPaused = false;
                startTime = Date.now() - pausedTime;
            } else {
                resetSimulation();
                updateValues();
                startTime = Date.now();
                pausedTime = 0;
                positionData = [];
                velocityData = [];
                accelerationData = [];
                timeData = [];
            }
            
            isRunning = true;
            document.getElementById('status').textContent = 'Simulation Running...';
            animate();
        }

        function pauseSimulation() {
            if (isRunning) {
                isRunning = false;
                isPaused = true;
                pausedTime = Date.now() - startTime;
                cancelAnimationFrame(animationId);
                document.getElementById('status').textContent = 'Simulation Paused';
            }
        }

        function resetSimulation() {
            isRunning = false;
            isPaused = false;
            currentTime = 0;
            pausedTime = 0;
            cancelAnimationFrame(animationId);
            
            // Reset car position
            document.querySelector('.car').style.left = '50px';
            
            // Clear graphs
            clearGraphs();
            
            // Clear dot diagram
            document.getElementById('dotDiagram').innerHTML = '<div class="graph-title">Motion Dot Diagram</div>';
            
            document.getElementById('status').textContent = 'Ready to simulate';
            
            positionData = [];
            velocityData = [];
            accelerationData = [];
            timeData = [];
        }

        function animate() {
            if (!isRunning) return;
            
            currentTime = (Date.now() - startTime) / 1000;
            
            if (currentTime >= runTime) {
                isRunning = false;
                document.getElementById('status').textContent = 'Simulation Complete!';
                return;
            }
            
            // Calculate physics
            const position = initialVelocity * currentTime + 0.5 * acceleration * currentTime * currentTime;
            const velocity = initialVelocity + acceleration * currentTime;
            const currentAcceleration = acceleration; // Constant acceleration
            
            // Update car position (scale for visualization)
            const carElement = document.querySelector('.car');
            const roadWidth = document.querySelector('.road-container').offsetWidth;
            const carPosition = 50 + (position * 2) % (roadWidth - 100);
            carElement.style.left = carPosition + 'px';
            
            // Store data
            positionData.push(position);
            velocityData.push(velocity);
            accelerationData.push(currentAcceleration);
            timeData.push(currentTime);
            
            // Update status
            document.getElementById('status').innerHTML = `
                Time: ${currentTime.toFixed(1)}s | 
                Position: ${position.toFixed(1)}m | 
                Velocity: ${velocity.toFixed(1)}m/s | 
                Acceleration: ${currentAcceleration.toFixed(1)}m/s¬≤
            `;
            
            // Update visualizations
            updateDotDiagram(currentTime, position);
            updateGraphs();
            
            animationId = requestAnimationFrame(animate);
        }

        function updateDotDiagram(time, position) {
            const dotDiagram = document.getElementById('dotDiagram');
            const diagramWidth = dotDiagram.offsetWidth - 40;
            
            // Add new dot every 0.5 seconds
            if (Math.floor(time * 2) > dotDiagram.querySelectorAll('.dot').length) {
                const dot = document.createElement('div');
                dot.className = 'dot';
                const dotPosition = 20 + (position * 2) % (diagramWidth - 20);
                dot.style.left = dotPosition + 'px';
                dotDiagram.appendChild(dot);
            }
        }

        function updateGraphs() {
            updatePositionGraph();
            updateVelocityGraph();
            updateAccelerationGraph();
        }

        function updatePositionGraph() {
            const canvas = document.getElementById('positionGraph');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            if (timeData.length < 2) return;
            
            // Draw grid
            drawGrid(ctx, canvas);
            
            // Draw position curve
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for (let i = 0; i < timeData.length; i++) {
                const x = (timeData[i] / runTime) * (canvas.width - 40) + 20;
                const maxPos = Math.max(...positionData);
                const y = canvas.height - 20 - (positionData[i] / maxPos) * (canvas.height - 40);
                
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();
            
            // Draw slope indicator (blue)
            if (timeData.length > 1) {
                const lastIndex = timeData.length - 1;
                const prevIndex = Math.max(0, lastIndex - 5);
                
                const x1 = (timeData[prevIndex] / runTime) * (canvas.width - 40) + 20;
                const x2 = (timeData[lastIndex] / runTime) * (canvas.width - 40) + 20;
                const maxPos = Math.max(...positionData);
                const y1 = canvas.height - 20 - (positionData[prevIndex] / maxPos) * (canvas.height - 40);
                const y2 = canvas.height - 20 - (positionData[lastIndex] / maxPos) * (canvas.height - 40);
                
                ctx.strokeStyle = '#2196F3';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(x1, y1);
                ctx.lineTo(x2, y2);
                ctx.stroke();
            }
        }

        function updateVelocityGraph() {
            const canvas = document.getElementById('velocityGraph');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            if (timeData.length < 2) return;
            
            // Draw grid
            drawGrid(ctx, canvas);
            
            // Fill area under curve (blue)
            ctx.fillStyle = 'rgba(33, 150, 243, 0.3)';
            ctx.beginPath();
            
            const maxVel = Math.max(Math.abs(Math.min(...velocityData)), Math.max(...velocityData));
            const zeroY = canvas.height - 20 - (maxVel / (2 * maxVel)) * (canvas.height - 40);
            
            ctx.moveTo(20, zeroY);
            for (let i = 0; i < timeData.length; i++) {
                const x = (timeData[i] / runTime) * (canvas.width - 40) + 20;
                const y = canvas.height - 20 - ((velocityData[i] + maxVel) / (2 * maxVel)) * (canvas.height - 40);
                ctx.lineTo(x, y);
            }
            ctx.lineTo((timeData[timeData.length - 1] / runTime) * (canvas.width - 40) + 20, zeroY);
            ctx.fill();
            
            // Draw velocity line
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for (let i = 0; i < timeData.length; i++) {
                const x = (timeData[i] / runTime) * (canvas.width - 40) + 20;
                const y = canvas.height - 20 - ((velocityData[i] + maxVel) / (2 * maxVel)) * (canvas.height - 40);
                
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();
            
            // Draw slope indicator (green)
            if (timeData.length > 1) {
                const lastIndex = timeData.length - 1;
                const prevIndex = Math.max(0, lastIndex - 5);
                
                const x1 = (timeData[prevIndex] / runTime) * (canvas.width - 40) + 20;
                const x2 = (timeData[lastIndex] / runTime) * (canvas.width - 40) + 20;
                const y1 = canvas.height - 20 - ((velocityData[prevIndex] + maxVel) / (2 * maxVel)) * (canvas.height - 40);
                const y2 = canvas.height - 20 - ((velocityData[lastIndex] + maxVel) / (2 * maxVel)) * (canvas.height - 40);
                
                ctx.strokeStyle = '#4CAF50';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(x1, y1);
                ctx.lineTo(x2, y2);
                ctx.stroke();
            }
        }

        function updateAccelerationGraph() {
            const canvas = document.getElementById('accelerationGraph');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            if (timeData.length < 2) return;
            
            // Draw grid
            drawGrid(ctx, canvas);
            
            // Fill area under curve (green)
            ctx.fillStyle = 'rgba(76, 175, 80, 0.3)';
            ctx.beginPath();
            
            const maxAcc = Math.max(Math.abs(acceleration), 10);
            const zeroY = canvas.height - 20 - (maxAcc / (2 * maxAcc)) * (canvas.height - 40);
            
            ctx.moveTo(20, zeroY);
            for (let i = 0; i < timeData.length; i++) {
                const x = (timeData[i] / runTime) * (canvas.width - 40) + 20;
                const y = canvas.height - 20 - ((accelerationData[i] + maxAcc) / (2 * maxAcc)) * (canvas.height - 40);
                ctx.lineTo(x, y);
            }
            ctx.lineTo((timeData[timeData.length - 1] / runTime) * (canvas.width - 40) + 20, zeroY);
            ctx.fill();
            
            // Draw acceleration line
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for (let i = 0; i < timeData.length; i++) {
                const x = (timeData[i] / runTime) * (canvas.width - 40) + 20;
                const y = canvas.height - 20 - ((accelerationData[i] + maxAcc) / (2 * maxAcc)) * (canvas.height - 40);
                
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();
            
            // Draw slope indicator (orange) - for constant acceleration, slope is 0
            ctx.strokeStyle = '#FF9800';
            ctx.lineWidth = 3;
            ctx.beginPath();
            const y = canvas.height - 20 - ((acceleration + maxAcc) / (2 * maxAcc)) * (canvas.height - 40);
            ctx.moveTo(20, y);
            ctx.lineTo((timeData[timeData.length - 1] / runTime) * (canvas.width - 40) + 20, y);
            ctx.stroke();
        }

        function drawGrid(ctx, canvas) {
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            
            // Vertical lines
            for (let i = 0; i <= 10; i++) {
                const x = (i / 10) * (canvas.width - 40) + 20;
                ctx.beginPath();
                ctx.moveTo(x, 10);
                ctx.lineTo(x, canvas.height - 10);
                ctx.stroke();
            }
            
            // Horizontal lines
            for (let i = 0; i <= 8; i++) {
                const y = (i / 8) * (canvas.height - 40) + 20;
                ctx.beginPath();
                ctx.moveTo(10, y);
                ctx.lineTo(canvas.width - 10, y);
                ctx.stroke();
            }
        }

        function clearGraphs() {
            const canvases = ['positionGraph', 'velocityGraph', 'accelerationGraph'];
            canvases.forEach(id => {
                const ctx = document.getElementById(id).getContext('2d');
                ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            });
        }

        // Initialize
        syncInputs();
        updateValues();
        resetSimulation();
    </script>
</body>
</html>
